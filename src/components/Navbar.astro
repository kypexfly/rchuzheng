---
import ThemeSwitcher from './ThemeSwitcher'
import { Image } from '@astrojs/image/components'
const pathname = new URL(Astro.request.url).pathname
const currentPath = pathname.split('/')[1]
---

<header class='px-4 md:px-2 dark:text-gray-100 border-b dark:border-zinc-800'>
  <div class='max-w-screen-lg flex justify-between h-16 mx-auto items-center align-middle'>
    <a rel='noopener noreferrer' href='/' aria-label='Back to homepage' class='hidden sm:flex items-center gap-2 font-bold w-6 h-6'>
      <Image src='/favicon.png' alt="Ricardo Chu's logo" width={24} height={24} /></a
    >
    <ul id='navbar-nav' class='grow flex sm:justify-center'>
      <li class='flex'>
        <a rel='noopener noreferrer' href='/' class:list={['p-4 font-semibold', { active: currentPath === '' }]}>Home</a>
      </li>
      <li class='flex'>
        <a rel='noopener noreferrer' href='/projects' class:list={['p-4 font-semibold', { active: currentPath === 'projects' }]}>Projects</a>
      </li>
      <li class='flex'>
        <a rel='noopener noreferrer' href='/blog' class:list={['p-4 font-semibold', { active: currentPath === 'blog' }]}>Blog</a>
      </li>
    </ul>
    <div class='flex items-center'>
      <ThemeSwitcher client:load />
    </div>
  </div>
</header>

<style>
  .active {
    @apply text-blue-500 dark:text-blue-600;
  }
</style>
