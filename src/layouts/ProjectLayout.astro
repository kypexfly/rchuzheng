---
import ProjectButtons from '../components/ProjectButtons.astro'
import type { Frontmatter } from '../types'
import BaseLayout from './BaseLayout.astro'

interface Props {
  frontmatter: Frontmatter
}

const {
  frontmatter: { title, tags, image, pubDate, link },
} = Astro.props

const date = new Date(pubDate).toLocaleDateString('en-US', {
  year: 'numeric',
})
---

<BaseLayout title={title + ' | Ricardo Chu'}>
  <header class='w-full mx-auto space-y-4 text-center'>
    {
      image.url && (
        <div class='max-w-screen-lg mx-auto mb-16 overflow-hidden rounded-none lg:rounded-lg'>
          <img class='w-full' src={image.url} alt={image.alt} />
        </div>
      )
    }

    <h1 class='text-4xl font-bold leading-tight md:text-5xl'>
      {title}
    </h1>
    <p class='text-xs font-semibold flex-wrap tracking-wider uppercase flex gap-3 justify-center'>
      {tags.map((tag) => <span>#{tag}</span>)}
    </p>
    <p class='text-sm dark:text-gray-400'>
      <time datetime='2021-02-12 15:34:18-0200'>{date}</time>
    </p>
    <!-- Buttons -->
    {link && <ProjectButtons link={link} />}
  </header>

  <article class='px-0 sm:px-12 my-12 markdown'>
    <slot />
  </article>
</BaseLayout>

<style is:inline>
  .markdown {
    line-height: 1.5;
    font-size: 17px;
    color: rgb(55, 65, 81);
  }
  .dark .markdown {
    color: rgb(209, 213, 219);
  }
  .markdown p {
    margin: 1.5rem 0;
  }
  .markdown h2 {
    font-size: 2.25rem;
    line-height: 2.5rem;
    font-weight: 600;
    margin: 1.5rem 0;
  }
  .markdown h3,
  .markdown h4,
  .markdown h5,
  .markdown h6 {
    font-size: 1.25rem;
    line-height: 2.5rem;
    font-weight: 600;
    margin: 1.5rem 0;
  }
  .markdown ul {
    padding-left: 2em;
    list-style-type: disc;
  }
  .markdown :not(pre) code {
    padding: 0.2em 0.4em;
    margin: 0;
    font-size: 85%;
    white-space: break-spaces;
    background-color: rgb(209, 213, 219);
    border-radius: 6px;
  }
  .dark .markdown :not(pre) code {
    background-color: rgb(55, 65, 81);
    color: rgb(209, 213, 219);
  }
  .markdown pre {
    padding: 1.5em;
    border-radius: 0.475rem;
    font-size: 14px;
  }
  .markdown a {
    color: rgb(37, 99, 235);
    text-decoration: underline;
  }
</style>
